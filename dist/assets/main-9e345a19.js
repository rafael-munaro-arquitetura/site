var e=(e,t,i)=>new Promise((s,r)=>{var o=e=>{try{l(i.next(e))}catch(t){r(t)}},n=e=>{try{l(i.throw(e))}catch(t){r(t)}},l=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,n);l((i=i.apply(e,t)).next())});!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const t={header:".header",mobileToggle:".header__mobile-toggle",menu:".header__menu",backToTop:".back-to-top",loading:"#loading",contactForm:".contact__form",portfolioFilters:".portfolio__filter",portfolioItems:".portfolio-item"},i={mobile:768,tablet:1024,desktop:1280},s=(e,t)=>{let i;return function(...s){clearTimeout(i),i=setTimeout(()=>{clearTimeout(i),e(...s)},t)}},r=(e,t)=>{let i;return function(...s){i||(e.apply(this,s),i=!0,setTimeout(()=>i=!1,t))}};class o{constructor(){this.header=document.querySelector(t.header),this.mobileToggle=document.querySelector(t.mobileToggle),this.menu=document.querySelector(t.menu),this.menuOverlay=document.querySelector(".header__nav-overlay"),this.isMenuOpen=!1,this.lastScrollY=window.scrollY,this.init()}init(){this.header&&this.mobileToggle&&this.menu&&(this.mobileToggle.addEventListener("click",()=>this.toggleMenu()),this.menuOverlay&&this.menuOverlay.addEventListener("click",()=>this.closeMenu()),document.addEventListener("click",e=>this.handleOutsideClick(e)),window.addEventListener("scroll",r(()=>this.handleScroll(),10)),window.addEventListener("resize",s(()=>{window.innerWidth>=i.mobile&&this.closeMenu()},250)),this.initMenuLinks())}initMenuLinks(){const e=this.menu.querySelectorAll(".header__menu-link");e.forEach(t=>{t.addEventListener("click",i=>{e.forEach(e=>e.classList.remove("header__menu-link--active")),t.classList.add("header__menu-link--active"),this.isMenuOpen&&setTimeout(()=>this.closeMenu(),300)})})}toggleMenu(){this.isMenuOpen?this.closeMenu():this.openMenu()}openMenu(){this.isMenuOpen=!0,this.menu.setAttribute("aria-hidden","false"),this.mobileToggle.setAttribute("aria-expanded","true"),this.menuOverlay&&this.menuOverlay.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden"}closeMenu(){this.isMenuOpen=!1,this.menu.setAttribute("aria-hidden","true"),this.mobileToggle.setAttribute("aria-expanded","false"),this.menuOverlay&&this.menuOverlay.setAttribute("aria-hidden","true"),document.body.style.overflow=""}handleOutsideClick(e){this.menu.contains(e.target)||this.mobileToggle.contains(e.target)||!this.isMenuOpen||this.closeMenu()}handleScroll(){const e=window.scrollY;e>50?this.header.classList.add("header--sticky"):this.header.classList.remove("header--sticky"),this.lastScrollY=e}}class n{constructor(){this.button=document.querySelector(t.backToTop),this.isVisible=!1,this.init()}init(){this.button&&(window.addEventListener("scroll",r(()=>this.handleScroll(),100)),this.button.addEventListener("click",()=>this.scrollToTop()))}handleScroll(){const e=window.scrollY>400;e!==this.isVisible&&(this.isVisible=e,e?(this.button.classList.add("show"),this.button.hidden=!1):(this.button.classList.remove("show"),setTimeout(()=>{this.isVisible||(this.button.hidden=!0)},300)))}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}class l{constructor(){this.animatedElements=document.querySelectorAll("[data-animate]"),this.observedElements=new Set,this.init()}init(){if(!this.animatedElements.length)return;const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(this.animateElement(t.target),e.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});this.animatedElements.forEach(t=>{e.observe(t)})}animateElement(e){const t=e.dataset.animate||"fade-in";e.classList.add(`animate-${t}`)}}class a{constructor(){this.form=document.querySelector(t.contactForm),this.isSubmitting=!1,this.init()}init(){if(!this.form)return;this.form.addEventListener("submit",e=>this.handleSubmit(e));const e=this.form.querySelector('input[name="phone"]');e&&e.addEventListener("input",e=>this.formatPhone(e.target))}handleSubmit(t){return e(this,null,function*(){if(t.preventDefault(),this.isSubmitting)return;const e=new FormData(this.form),i=Object.fromEntries(e.entries());if(this.validateForm(i)){this.setSubmitting(!0);try{yield this.submitForm(i),this.showSuccessMessage(),this.form.reset()}catch(s){this.showErrorMessage("Erro ao enviar mensagem. Tente novamente.")}finally{this.setSubmitting(!1)}}})}validateForm(e){const t=["name","email","subject","message"];for(const i of t)if(!e[i]||!e[i].trim())return this.showFieldError(i,"Este campo é obrigatório"),!1;return!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(this.showFieldError("email","Email inválido"),!1)}showFieldError(e,t){const i=this.form.querySelector(`[name="${e}"]`);if(!i)return;const s=i.parentNode.querySelector(".field-error");if(s)s.textContent=t;else{const e=document.createElement("span");e.className="field-error",e.textContent=t,e.style.cssText="\n        color: var(--color-error);\n        font-size: var(--font-size-sm);\n        margin-top: var(--spacing-1);\n        display: block;\n      ",i.parentNode.appendChild(e)}i.focus(),i.style.borderColor="var(--color-error)"}setSubmitting(e){this.isSubmitting=e;const t=this.form.querySelector('button[type="submit"]');e?(t.disabled=!0,t.textContent="Enviando..."):(t.disabled=!1,t.textContent="Enviar Mensagem")}submitForm(t){return e(this,null,function*(){return new Promise(e=>{setTimeout(()=>{e({success:!0})},2e3)})})}showSuccessMessage(){this.showMessage("Mensagem enviada com sucesso! Entraremos em contato em breve.","success")}showErrorMessage(e){this.showMessage(e,"error")}showMessage(e,t){const i=document.createElement("div");i.className=`form-message form-message--${t}`,i.textContent=e,i.style.cssText=`\n      padding: var(--spacing-4);\n      border-radius: var(--border-radius-lg);\n      margin-bottom: var(--spacing-4);\n      font-weight: var(--font-weight-medium);\n      ${"success"===t?"background-color: rgba(16, 185, 129, 0.1); color: var(--color-success); border: 1px solid var(--color-success);":"background-color: rgba(239, 68, 68, 0.1); color: var(--color-error); border: 1px solid var(--color-error);"}\n    `,this.form.insertBefore(i,this.form.firstChild),setTimeout(()=>{i.remove()},5e3)}formatPhone(e){let t=e.value.replace(/\D/g,"");t.length<=11&&(t=t.replace(/(\d{2})(\d)/,"($1) $2"),t=t.replace(/(\d{4,5})(\d{4})$/,"$1-$2")),e.value=t}}class c{constructor(){this.filters=document.querySelectorAll(t.portfolioFilters),this.items=document.querySelectorAll(t.portfolioItems),this.slider=document.querySelector(".portfolio-slider"),this.track=document.querySelector(".portfolio-slider__track"),this.leftArrow=document.querySelector(".portfolio-slider__arrow--left"),this.rightArrow=document.querySelector(".portfolio-slider__arrow--right"),this.activeFilter="all",this.currentIndex=0,this.visibleItems=this.getVisibleItems(),this.init()}getVisibleItems(){return window.innerWidth<640?1:window.innerWidth<1024?3:2}init(){this.filters.length&&this.items.length&&(this.filters.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.filter;this.setActiveFilter(t)})}),this.leftArrow&&this.leftArrow.addEventListener("click",()=>this.navigate(-1)),this.rightArrow&&this.rightArrow.addEventListener("click",()=>this.navigate(1)),window.addEventListener("resize",s(()=>this.handleResize(),250)),this.updateArrowStates())}handleResize(){this.visibleItems=this.getVisibleItems(),this.setActiveFilter(this.activeFilter)}setActiveFilter(e){if(this.activeFilter===e)return;this.activeFilter=e,this.currentIndex=0,this.filters.forEach(t=>{t.classList.toggle("portfolio__filter--active",t.dataset.filter===e)});const t=Array.from(this.items).filter(t=>{const i=t.dataset.category;return"all"===e||i===e});this.items.forEach(e=>{e.style.display="none"}),t.forEach(e=>{e.style.display="block"}),this.track.style.transform="translateX(0)",this.updateArrowStates()}navigate(e){const t=Array.from(this.items).filter(e=>"none"!==e.style.display),i=Math.max(0,t.length-this.visibleItems);this.currentIndex+=e,this.currentIndex=Math.max(0,Math.min(this.currentIndex,i));const s=296*-this.currentIndex;this.track.style.transform=`translateX(${s}px)`,this.updateArrowStates()}updateArrowStates(){const e=Array.from(this.items).filter(e=>"none"!==e.style.display),t=Math.max(0,e.length-this.visibleItems);this.leftArrow&&(this.leftArrow.disabled=0===this.currentIndex),this.rightArrow&&(this.rightArrow.disabled=this.currentIndex>=t)}}class h{constructor(){this.components={},this.init()}init(){this.hideLoading(),this.initComponents(),this.initSmoothScrolling(),this.initLazyLoading(),this.initTheme()}hideLoading(){const e=document.querySelector(t.loading);e&&setTimeout(()=>{e.hidden=!0},500)}initComponents(){this.components.header=new o,this.components.backToTop=new n,this.components.scrollAnimation=new l,this.components.contactForm=new a,this.components.portfolio=new c}initSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{var i;t.preventDefault();const s=document.querySelector(e.getAttribute("href"));s&&(((e,t=0)=>{if(!e)return;const i=e.offsetTop-t;window.scrollTo({top:i,behavior:"smooth"})})(s,80),(null==(i=this.components.header)?void 0:i.isMenuOpen)&&this.components.header.closeMenu())})})}initLazyLoading(){if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const i=e.target;i.src=i.dataset.src,i.classList.remove("lazy"),t.unobserve(i)}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}}initTheme(){const e=localStorage.getItem("theme");e&&document.documentElement.setAttribute("data-theme",e)}}document.addEventListener("DOMContentLoaded",()=>{window.app=new h,"performance"in window&&window.addEventListener("load",()=>{performance.getEntriesByType("navigation")[0]})}),window.addEventListener("error",e=>{}),window.addEventListener("unhandledrejection",e=>{});
