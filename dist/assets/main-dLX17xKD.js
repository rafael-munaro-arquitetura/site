var e=Object.defineProperty,t=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(t,i,s)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s,o=(e,o)=>{for(var r in o||(o={}))i.call(o,r)&&n(e,r,o[r]);if(t)for(var r of t(o))s.call(o,r)&&n(e,r,o[r]);return e},r=(e,t,i)=>new Promise((s,n)=>{var o=e=>{try{a(i.next(e))}catch(t){n(t)}},r=e=>{try{a(i.throw(e))}catch(t){n(t)}},a=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,r);a((i=i.apply(e,t)).next())});!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();"localhost"===window.location.hostname||window.location.hostname;const a=(e,t=null)=>{},h=(e,t=null)=>{t instanceof Error&&t.message},l=(e,t,i="")=>{},c=e=>{},d=(e,t=null)=>{},u=e=>{l("Página carregada em",e,"ms")},m=e=>{c(e)},p=(e,t)=>{h(`Erro em ${e}:`,t)},f=(e,t,i=null)=>{d(`${e}: ${t}`,i)},g=(e,t)=>{let i;return function(...s){clearTimeout(i),i=setTimeout(()=>{clearTimeout(i),e(...s)},t)}},v=(e,t)=>{let i;return function(...s){i||(e.apply(this,s),i=!0,setTimeout(()=>i=!1,t))}},b=(e,t)=>{const i="string"==typeof e?document.querySelector(e):e;i&&i.classList.add(t)},y=(e,t)=>{const i="string"==typeof e?document.querySelector(e):e;i&&i.classList.remove(t)};class w{constructor(e={}){this.options=o({stickyOffset:100,mobileBreakpoint:768},e),this.header=null,this.mobileToggle=null,this.menu=null,this.isMenuOpen=!1,this.isSticky=!1,this.lastScrollY=0,this.init()}init(){this.cacheElements(),this.bindEvents(),this.setupAccessibility(),m("HeaderComponent")}cacheElements(){this.header=document.querySelector(".header"),this.mobileToggle=document.querySelector(".header__mobile-toggle"),this.menu=document.querySelector(".header__menu"),this.header||p("HeaderComponent","Header element not found")}bindEvents(){this.header&&(this.mobileToggle&&this.mobileToggle.addEventListener("click",e=>{e.preventDefault(),this.toggleMobileMenu()}),window.addEventListener("scroll",v(()=>{this.handleScroll()},10)),window.addEventListener("resize",g(()=>{this.handleResize()},250)),document.addEventListener("click",e=>{this.handleOutsideClick(e)}),document.addEventListener("keydown",e=>{this.handleKeydown(e)}),this.bindMenuLinks())}bindMenuLinks(){var e;const t=null==(e=this.menu)?void 0:e.querySelectorAll('a[href^="#"]');t&&t.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const i=e.getAttribute("href"),s=document.querySelector(i);s&&(this.scrollToTarget(s),this.closeMobileMenu())})})}setupAccessibility(){this.mobileToggle&&(this.mobileToggle.setAttribute("aria-expanded","false"),this.mobileToggle.setAttribute("aria-controls","main-menu"),this.mobileToggle.setAttribute("aria-label","Toggle navigation menu"),this.menu&&(this.menu.setAttribute("id","main-menu"),this.menu.setAttribute("role","navigation"),this.menu.setAttribute("aria-label","Main navigation")))}toggleMobileMenu(){this.isMenuOpen?this.closeMobileMenu():this.openMobileMenu()}openMobileMenu(){this.menu&&this.mobileToggle&&(this.isMenuOpen=!0,b(this.menu,"header__menu--open"),this.mobileToggle.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden",this.focusFirstMenuItem(),this.dispatchEvent("header:menuOpened"))}closeMobileMenu(){this.menu&&this.mobileToggle&&(this.isMenuOpen=!1,y(this.menu,"header__menu--open"),this.mobileToggle.setAttribute("aria-expanded","false"),document.body.style.overflow="",this.mobileToggle.focus(),this.dispatchEvent("header:menuClosed"))}focusFirstMenuItem(){var e;const t=null==(e=this.menu)?void 0:e.querySelector("a");t&&t.focus()}handleScroll(){const e=window.scrollY,t=e>this.options.stickyOffset;t!==this.isSticky&&(this.isSticky=t,t?(b(this.header,"header--sticky"),this.dispatchEvent("header:stickyActivated")):(y(this.header,"header--sticky"),this.dispatchEvent("header:stickyDeactivated"))),this.lastScrollY=e}handleResize(){window.innerWidth>=this.options.mobileBreakpoint&&this.isMenuOpen&&this.closeMobileMenu()}handleOutsideClick(e){if(!this.isMenuOpen)return;const t=this.header.contains(e.target),i=this.mobileToggle.contains(e.target);t&&(i||this.menu.contains(e.target))||this.closeMobileMenu()}handleKeydown(e){"Escape"===e.key&&this.isMenuOpen&&this.closeMobileMenu(),this.isMenuOpen&&this.menu.contains(e.target)&&this.handleMenuKeyboardNavigation(e)}handleMenuKeyboardNavigation(e){if("Tab"!==e.key)return;const t=Array.from(this.menu.querySelectorAll("a")),i=t.indexOf(e.target);e.shiftKey?0===i&&(e.preventDefault(),this.closeMobileMenu()):i===t.length-1&&(e.preventDefault(),this.closeMobileMenu())}scrollToTarget(e){const t=this.header.offsetHeight,i=e.offsetTop-t-20;window.scrollTo({top:i})}updateActiveMenuItem(){var e;const t=null==(e=this.menu)?void 0:e.querySelectorAll('a[href^="#"]');if(!t)return;const i=window.scrollY+this.header.offsetHeight+50;t.forEach(e=>{const t=e.getAttribute("href"),s=document.querySelector(t);if(s){const t=s.offsetTop,n=t+s.offsetHeight;i>=t&&i<n?b(e,"header__menu-link--active"):y(e,"header__menu-link--active")}})}dispatchEvent(e,t={}){const i=new CustomEvent(e,{detail:o({component:this},t)});document.dispatchEvent(i)}isMobileMenuOpen(){return this.isMenuOpen}openMenu(){this.openMobileMenu()}closeMenu(){this.closeMobileMenu()}destroy(){this.closeMobileMenu(),f("HeaderComponent","destroyed")}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{window.headerComponent=new w}):window.headerComponent=new w;class M{constructor(){this.revealElements=null,this.observer=null,this.init()}init(){var e;document.documentElement.classList.remove("no-js");this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&this.revealElement(e.target)})},{root:null,rootMargin:"0px",threshold:.1}),this.observeElements(),a("ScrollReveal initialized",{elementsFound:(null==(e=this.revealElements)?void 0:e.length)||0})}observeElements(){this.revealElements=document.querySelectorAll(".reveal, .reveal-left, .reveal-right, .reveal-scale"),this.revealElements.forEach(e=>{this.observer.observe(e)})}revealElement(e){e.classList.add("revealed"),a("Element revealed",{element:e.className})}observeNewElements(e){e.forEach(e=>{this.observer.observe(e)})}destroy(){this.observer&&(this.observer.disconnect(),a("ScrollReveal destroyed"))}}class E{constructor(e=Math.random()){this.p=this.buildPermutationTable(e)}buildPermutationTable(e){const t=[];for(let i=0;i<256;i++)t[i]=i;for(let i=255;i>0;i--){const s=Math.floor(e*(i+1)),n=t[i];t[i]=t[s%256],t[s%256]=n,e=16807*e%2147483647}return t.concat(t)}noise(e,t){const i=255&Math.floor(e),s=255&Math.floor(t);e-=Math.floor(e),t-=Math.floor(t);const n=this.fade(e),o=this.fade(t),r=this.p[i]+s,a=this.p[i+1]+s;return this.lerp(o,this.lerp(n,this.grad(this.p[r],e,t),this.grad(this.p[a],e-1,t)),this.lerp(n,this.grad(this.p[r+1],e,t-1),this.grad(this.p[a+1],e-1,t-1)))}fade(e){return e*e*e*(e*(6*e-15)+10)}lerp(e,t,i){return t+e*(i-t)}grad(e,t,i){const s=3&e,n=s<2?t:i,o=s<2?i:t;return(1&s?-n:n)+(2&s?-o:o)}}class x{constructor(e,t,i,s){this.canvas=e,this.ctx=e.getContext("2d"),this.config=t,this.noise=i,this.noise2=s,this.centerX=t.centerX||e.width/2,this.centerY=t.centerY||e.height/2,this.baseRadius=t.baseRadius||150,this.radiusVariationX=.8+.4*Math.random(),this.radiusVariationY=.7+.3*Math.random(),this.rotation=Math.random()*Math.PI*2,this.irregularity=.15+.25*Math.random(),this.amplitude=t.amplitude||25,this.frequency=t.frequency||.012,this.speed=t.speed||15e-5,this.opacity=0,this.targetOpacity=t.opacity||.08,this.lineWidth=t.lineWidth||.8,this.color=t.color||"rgba(155, 161, 135, 1)",this.offset=1e3*Math.random(),this.phase=0,this.drawProgress=0,this.lifecycle="appearing",this.age=0,this.maxAge=t.maxAge||35e3,this.appearDuration=6e3,this.disappearDuration=4e3,this.segments=120,this.noiseScale=t.noiseScale||1,this.noiseOctaves=2,this.cachedPoints=null,this.lastCacheTime=0,this.cacheInterval=100}update(e){if(this.age+=e,this.phase+=this.speed*e,"appearing"===this.lifecycle){const e=this.age/this.appearDuration;this.opacity=Math.min(this.targetOpacity,e*this.targetOpacity),this.drawProgress=Math.min(1,this.age/this.appearDuration),this.age>=this.appearDuration&&(this.lifecycle="visible")}else if("visible"===this.lifecycle)this.drawProgress=1,this.age>=this.maxAge-this.disappearDuration&&(this.lifecycle="disappearing");else if("disappearing"===this.lifecycle){const e=this.maxAge-this.disappearDuration,t=(this.age-e)/this.disappearDuration;this.opacity=this.targetOpacity*(1-t),this.age>=this.maxAge&&(this.lifecycle="dead")}}generatePoints(e){const t=[];for(let i=0;i<=this.segments;i++){const s=i/this.segments*Math.PI*2,n=s+this.rotation;let o=this.baseRadius;const r=Math.cos(n)*this.radiusVariationX,a=Math.sin(n)*this.radiusVariationY;o*=Math.sqrt(r*r+a*a);o+=(this.noise.noise(Math.cos(s)*this.frequency+.5*this.phase,Math.sin(s)*this.frequency+this.offset)+.5*this.noise2.noise(Math.cos(s)*this.frequency*1.5+.3*this.phase,Math.sin(s)*this.frequency*1.5+.7*this.offset))*this.irregularity*this.amplitude*this.noiseScale;const h=this.centerX/e+Math.cos(s)*o,l=this.centerY/e+Math.sin(s)*o;t.push({x:h,y:l})}return t}draw(){if("dead"===this.lifecycle||this.opacity<=0)return;const e=window.devicePixelRatio||1,t=performance.now();let i=this.cachedPoints;if((!i||t-this.lastCacheTime>this.cacheInterval)&&(i=this.generatePoints(e),this.cachedPoints=i,this.lastCacheTime=t),this.ctx.save(),this.ctx.globalAlpha=this.opacity,this.ctx.strokeStyle=this.color,this.ctx.lineWidth=this.lineWidth,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.beginPath(),i.length>0){this.ctx.moveTo(i[0].x,i[0].y);for(let s=0;s<i.length-1;s++){const e=(i[s].x+i[s+1].x)/2,t=(i[s].y+i[s+1].y)/2;this.ctx.quadraticCurveTo(i[s].x,i[s].y,e,t)}const e=(i[i.length-1].x+i[0].x)/2,t=(i[i.length-1].y+i[0].y)/2;this.ctx.quadraticCurveTo(i[i.length-1].x,i[i.length-1].y,e,t),this.ctx.quadraticCurveTo(e,t,i[0].x,i[0].y)}if(this.drawProgress<1){const e=this.baseRadius*Math.PI*2,t=e*this.drawProgress;this.ctx.setLineDash([t,e]),this.ctx.lineDashOffset=0}else this.ctx.setLineDash([]);this.ctx.stroke(),this.ctx.restore()}isDead(){return"dead"===this.lifecycle}}class S{constructor(e={}){this.options=o({maxLines:4,spawnInterval:4e3,colors:["rgba(155, 161, 135, 1)","rgba(84, 89, 67, 1)","rgba(232, 218, 203, 1)"]},e),this.canvas=null,this.ctx=null,this.lines=[],this.lastSpawnTime=0,this.lastFrameTime=performance.now(),this.animationId=null,this.isRunning=!1,this.prefersReducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches,this.isVisible=!document.hidden,this.sharedNoise=new E(Math.random()),this.sharedNoise2=new E(100*Math.random()),this.frameCount=0,this.fps=0,this.lastFpsUpdate=performance.now(),this.init()}init(){this.createCanvas(),this.setupEventListeners(),this.prefersReducedMotion||this.start(),a("TopographicBackground initialized",{maxLines:this.options.maxLines,prefersReducedMotion:this.prefersReducedMotion})}createCanvas(){this.canvas=document.createElement("canvas"),this.canvas.id="topographic-background",this.canvas.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 0;\n      pointer-events: none;\n      background: transparent;\n    ",!document.body.style.background&&document.body.style.backgroundColor,document.body.insertBefore(this.canvas,document.body.firstChild),this.ctx=this.canvas.getContext("2d",{alpha:!0}),this.resize()}setupEventListeners(){window.addEventListener("resize",()=>{this.resize()}),document.addEventListener("visibilitychange",()=>{this.isVisible=!document.hidden,document.hidden||this.prefersReducedMotion?this.pause():this.resume()});const e=window.matchMedia("(prefers-reduced-motion: reduce)");e.addEventListener("change",e=>{this.prefersReducedMotion=e.matches,this.prefersReducedMotion?this.pause():this.isVisible&&this.resume()}),this.prefersReducedMotion=e.matches}resize(){const e=window.devicePixelRatio||1,t=this.canvas.getBoundingClientRect();this.canvas.width=t.width*e,this.canvas.height=t.height*e,this.ctx.scale(e,e),this.canvas.style.width=`${t.width}px`,this.canvas.style.height=`${t.height}px`}spawnLine(){if(this.lines.length>=this.options.maxLines)return;const e=window.devicePixelRatio||1,t=this.canvas.width/e,i=this.canvas.height/e;let s,n;Math.random()<.4?(s=Math.random()<.5?t*(.1+.3*Math.random()):t*(.6+.3*Math.random()),n=i*(.2+.6*Math.random())):(s=t*(.3+.4*Math.random()),n=i*(.2+.6*Math.random()));const o={centerX:s*e,centerY:n*e,baseRadius:120+180*Math.random(),amplitude:20+30*Math.random(),frequency:.008+.006*Math.random(),speed:12e-5+18e-5*Math.random(),opacity:.06+.04*Math.random(),lineWidth:.6+.4*Math.random(),color:this.options.colors[Math.floor(Math.random()*this.options.colors.length)],maxAge:3e4+2e4*Math.random(),noiseScale:.9+.3*Math.random(),isClosedLoop:!0},r=new x(this.canvas,o,this.sharedNoise,this.sharedNoise2);this.lines.push(r)}update(e){this.lines.forEach(t=>t.update(e)),this.lines=this.lines.filter(e=>!e.isDead());const t=performance.now();t-this.lastSpawnTime>this.options.spawnInterval&&(this.spawnLine(),this.lastSpawnTime=t)}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.lines.forEach(e=>e.draw())}animate(){if(!this.isRunning)return;const e=performance.now(),t=e-this.lastFrameTime;this.lastFrameTime=e,this.update(t),this.draw(),this.frameCount++,e-this.lastFpsUpdate>=1e3&&(this.fps=Math.round(1e3*this.frameCount/(e-this.lastFpsUpdate)),this.frameCount=0,this.lastFpsUpdate=e),this.animationId=requestAnimationFrame(()=>this.animate())}start(){this.isRunning||(this.isRunning=!0,this.lastFrameTime=performance.now(),this.lastSpawnTime=performance.now(),setTimeout(()=>this.spawnLine(),1e3),this.animate())}pause(){this.isRunning=!1,this.animationId&&cancelAnimationFrame(this.animationId)}resume(){this.isRunning||this.start()}destroy(){this.pause(),this.lines=[],this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}const T={backToTop:".back-to-top",loading:"#loading",contactForm:".contact__form",portfolioFilters:".portfolio__filter",portfolioItems:".portfolio-item"};class L{constructor(){this.button=document.querySelector(T.backToTop),this.isVisible=!1,this.init()}init(){this.button&&(window.addEventListener("scroll",v(()=>this.handleScroll(),100)),this.button.addEventListener("click",()=>this.scrollToTop()))}handleScroll(){const e=window.scrollY>400;e!==this.isVisible&&(this.isVisible=e,e?(this.button.classList.add("show"),this.button.hidden=!1):(this.button.classList.remove("show"),setTimeout(()=>{this.isVisible||(this.button.hidden=!0)},300)))}scrollToTop(){window.scrollTo({top:0})}}class A{constructor(){this.animatedElements=document.querySelectorAll("[data-animate]"),this.revealElements=document.querySelectorAll(".reveal, .reveal-left, .reveal-right, .reveal-scale"),this.observedElements=new Set,this.init()}init(){if(!this.animatedElements.length&&!this.revealElements.length)return;const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(this.animateElement(t.target),e.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});this.animatedElements.forEach(t=>{e.observe(t)}),this.revealElements.forEach(t=>{e.observe(t)})}animateElement(e){if(e.hasAttribute("data-animate")){const t=e.dataset.animate||"fade-in";e.classList.add(`animate-${t}`)}(e.classList.contains("reveal")||e.classList.contains("reveal-left")||e.classList.contains("reveal-right")||e.classList.contains("reveal-scale"))&&e.classList.add("revealed")}}class k{constructor(){this.form=document.querySelector(T.contactForm),this.isSubmitting=!1,this.init()}init(){if(!this.form)return;this.form.addEventListener("submit",e=>this.handleSubmit(e));const e=this.form.querySelector('input[name="phone"]');e&&e.addEventListener("input",e=>this.formatPhone(e.target))}handleSubmit(e){return r(this,null,function*(){if(e.preventDefault(),this.isSubmitting)return;const t=new FormData(this.form),i=Object.fromEntries(t.entries());if(this.validateForm(i)){this.setSubmitting(!0);try{yield this.submitForm(i),this.showSuccessMessage(),this.form.reset()}catch(s){p("ContactFormManager",s),this.showErrorMessage("Erro ao enviar mensagem. Tente novamente.")}finally{this.setSubmitting(!1)}}})}validateForm(e){const t=["name","email","subject","message"];for(const i of t)if(!e[i]||!e[i].trim())return this.showFieldError(i,"Este campo é obrigatório"),!1;return!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(this.showFieldError("email","Email inválido"),!1)}showFieldError(e,t){const i=this.form.querySelector(`[name="${e}"]`);if(!i)return;const s=i.parentNode.querySelector(".field-error");if(s)s.textContent=t;else{const e=document.createElement("span");e.className="field-error",e.textContent=t,e.style.cssText="\n        color: var(--color-error);\n        font-size: var(--font-size-sm);\n        margin-top: var(--spacing-1);\n        display: block;\n      ",i.parentNode.appendChild(e)}i.focus(),i.style.borderColor="var(--color-error)"}setSubmitting(e){this.isSubmitting=e;const t=this.form.querySelector('button[type="submit"]');e?(t.disabled=!0,t.textContent="Enviando..."):(t.disabled=!1,t.textContent="Enviar Mensagem")}submitForm(e){return r(this,null,function*(){return new Promise(t=>{setTimeout(()=>{f("ContactFormManager","form_submitted",{fields_count:Object.keys(e).length}),t({success:!0})},2e3)})})}showSuccessMessage(){this.showMessage("Mensagem enviada com sucesso! Entraremos em contato em breve.","success")}showErrorMessage(e){this.showMessage(e,"error")}showMessage(e,t){const i=document.createElement("div");i.className=`form-message form-message--${t}`,i.textContent=e,i.style.cssText=`\n      padding: var(--spacing-4);\n      border-radius: var(--border-radius-lg);\n      margin-bottom: var(--spacing-4);\n      font-weight: var(--font-weight-medium);\n      ${"success"===t?"background-color: rgba(16, 185, 129, 0.1); color: var(--color-success); border: 1px solid var(--color-success);":"background-color: rgba(239, 68, 68, 0.1); color: var(--color-error); border: 1px solid var(--color-error);"}\n    `,this.form.insertBefore(i,this.form.firstChild),setTimeout(()=>{i.remove()},5e3)}formatPhone(e){let t=e.value.replace(/\D/g,"");t.length<=11&&(t=t.replace(/(\d{2})(\d)/,"($1) $2"),t=t.replace(/(\d{4,5})(\d{4})$/,"$1-$2")),e.value=t}}class C{constructor(){this.filters=document.querySelectorAll(T.portfolioFilters),this.items=document.querySelectorAll(T.portfolioItems),this.slider=document.querySelector(".portfolio-slider"),this.track=document.querySelector(".portfolio-slider__track"),this.leftArrow=document.querySelector(".portfolio-slider__arrow--left"),this.rightArrow=document.querySelector(".portfolio-slider__arrow--right"),this.activeFilter="all",this.currentIndex=0,this.visibleItems=this.getVisibleItems(),this.init()}getVisibleItems(){return window.innerWidth<640?1:window.innerWidth<1024?3:2}init(){this.filters.length&&this.items.length&&(this.filters.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.filter;this.setActiveFilter(t)})}),this.leftArrow&&this.leftArrow.addEventListener("click",()=>this.navigate(-1)),this.rightArrow&&this.rightArrow.addEventListener("click",()=>this.navigate(1)),window.addEventListener("resize",g(()=>this.handleResize(),250)),this.updateArrowStates())}handleResize(){this.visibleItems=this.getVisibleItems(),this.setActiveFilter(this.activeFilter)}setActiveFilter(e){if(this.activeFilter===e)return;this.activeFilter=e,this.currentIndex=0,this.filters.forEach(t=>{t.classList.toggle("portfolio__filter--active",t.dataset.filter===e)});const t=Array.from(this.items).filter(t=>{const i=t.dataset.category;return"all"===e||i===e});this.items.forEach(e=>{e.style.display="none"}),t.forEach(e=>{e.style.display="block"}),this.track.style.transform="translateX(0)",this.updateArrowStates()}navigate(e){const t=Array.from(this.items).filter(e=>"none"!==e.style.display),i=Math.max(0,t.length-this.visibleItems);this.currentIndex+=e,this.currentIndex=Math.max(0,Math.min(this.currentIndex,i));const s=296*-this.currentIndex;this.track.style.transform=`translateX(${s}px)`,this.updateArrowStates()}updateArrowStates(){const e=Array.from(this.items).filter(e=>"none"!==e.style.display),t=Math.max(0,e.length-this.visibleItems);this.leftArrow&&(this.leftArrow.disabled=0===this.currentIndex),this.rightArrow&&(this.rightArrow.disabled=this.currentIndex>=t)}}class q{constructor(){this.components={},this.init()}init(){this.hideLoading(),this.initCriticalComponents(),this.initNonCriticalComponents(),this.initSmoothScrolling(),this.initLazyLoading(),this.initTheme(),m("App")}initCriticalComponents(){this.components.topographicBackground=new S({maxLines:3,spawnInterval:5e3,colors:["rgba(155, 161, 135, 1)","rgba(84, 89, 67, 1)","rgba(232, 218, 203, 1)"]}),this.components.header=new w,this.components.backToTop=new L,this.components.scrollAnimation=new A,m("Critical components")}initNonCriticalComponents(){const e=()=>{this.components.scrollReveal=new M,this.components.contactForm=new k,this.components.portfolio=new C,m("Non-critical components")};"requestIdleCallback"in window?requestIdleCallback(e):setTimeout(e,100)}hideLoading(){const e=document.querySelector(T.loading);e&&setTimeout(()=>{e.hidden=!0},500)}initSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{var i;t.preventDefault();const s=document.querySelector(e.getAttribute("href"));s&&(((e,t=0)=>{const i="string"==typeof e?document.querySelector(e):e;if(!i)return;const s=i.offsetTop-t;window.scrollTo({top:s,behavior:"smooth"})})(s,80),(null==(i=this.components.header)?void 0:i.isMenuOpen)&&this.components.header.closeMobileMenu())})})}initLazyLoading(){if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const i=e.target;i.src=i.dataset.src,i.classList.remove("lazy"),t.unobserve(i)}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}}initTheme(){const e=localStorage.getItem("theme");e&&document.documentElement.setAttribute("data-theme",e)}}document.addEventListener("DOMContentLoaded",()=>{window.app=new q,"performance"in window&&window.addEventListener("load",()=>{const e=performance.getEntriesByType("navigation")[0];u(e.loadEventEnd-e.loadEventStart)})}),window.addEventListener("error",e=>{h("Erro global:",e.error)}),window.addEventListener("unhandledrejection",e=>{h("Promise rejeitada:",e.reason)});
