---
description: Regras cr√≠ticas para o sistema de anima√ß√£o topogr√°fica - N√ÉO MODIFICAR sem entendimento completo
globs: ["**/topographic-background.js", "**/new-design.js"]
alwaysApply: true
---

# üåä Sistema Topogr√°fico - REGRAS CR√çTICAS

## üö® ATEN√á√ÉO - SISTEMA COMPLEXO
**ESTE SISTEMA √â CR√çTICO PARA PERFORMANCE**
- Modifica√ß√µes requerem entendimento completo do Canvas API
- Performance deve manter 60fps garantido
- Sistema pausa automaticamente em tabs ocultas

## Regras Absolutas
- **NUNCA** modifique sem profiling de performance
- **SEMPRE** teste em dispositivos m√≥veis
- **SEMPRE** respeite `prefers-reduced-motion`
- **SEMPRE** mantenha otimiza√ß√µes de renderiza√ß√£o
- **NUNCA** adicione novos elementos Canvas sem an√°lise de impacto

## Performance Requirements
- **CPU Usage**: < 10% em dispositivos m√©dios
- **Memory**: < 50MB aloca√ß√£o
- **Battery Impact**: M√≠nimo em mobile
- **Smoothness**: 60fps consistente

## C√≥digo Proibido
```javascript
// ‚ùå PROIBIDO - Impacta performance criticamente
this.canvas.style.transform = 'scale(' + scale + ')';

// ‚úÖ CORRETO - Usa CSS transforms otimizados
this.canvas.style.transform = `scale(${scale})`;
```

## Debug Commands
```javascript
// Use apenas para desenvolvimento/debug
console.log('Topographic FPS:', this.fps);
console.log('Memory usage:', performance.memory.usedJSHeapSize);
```

## Modifica√ß√µes Permitidas Apenas Para:
- Corre√ß√µes cr√≠ticas de bugs
- Otimiza√ß√µes de performance documentadas
- Melhorias de acessibilidade
- **SEMPRE** com aprova√ß√£o da equipe completa